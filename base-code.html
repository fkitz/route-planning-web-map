<html>
    <!-- This web app is a pedestrian route calculator with a file download option -->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Pathfinder</title>
    <link href="/YOUR_PATH/favicon.ico" rel="icon" type="image/x-icon">
    <!-- Links to a locally-downloaded favicon -->
    <style>
      html, body, #viewDiv {
        overflow: auto;
        margin: 0;
        transform: scale(1);
        height: 100%;
        width: 100%
      }
      /* Defines 0 padding and margins for the viewing pane, no reduction in scale */
    </style>

    <link rel="stylesheet" href="https://js.arcgis.com/4.31/esri/css/main.css">
    <!-- Above script links to a CSS for version 4.31 -->
    <script src="https://js.arcgis.com/4.31/"></script>
    <!-- Above script specifies external URL -->
    
    <script>  
      // Loads: map viewing pane, toggles for (clockwise from top-left) fullscreen, zoom, measurement for 2D distance, print screen, search

      require([
        "esri/Map",
        "esri/views/MapView",
        "esri/widgets/DistanceMeasurement2D",
        "esri/widgets/Fullscreen",
        "esri/widgets/Search",
        "esri/widgets/Print"
      ], function(Map, MapView, DistanceMeasurement2D, Fullscreen, Search, Print) {
        var map = new Map({
          basemap: "osm"
        });
        // Adds the style 'Open Street Map' as the default basemap

        var view = new MapView({
          container: "viewDiv",
          map: map,
          center: [-123.120818,49.2665562],
          zoom: 11,
        });
        // Inserts a map window into the viewing pane, with the center in Vancouver

        var distancemeasure = new DistanceMeasurement2D({
            view: view
        });

        view.ui.add(distancemeasure, "top-right");
        // Adds the bird's eye distance calculator widget to the top-right of the MapView

        var fullscreen = new Fullscreen({
          view: view
        });
        
        view.ui.add(fullscreen, "top-left");
        // Adds a fullscreen toggle to the top-left of the Mapview

        var searchwidget = new Search({
            view: view
        });

        view.ui.add(searchwidget, "bottom-left");
        // Adds the search widget to the bottom-left of the MapView

        var printing = new Print({
          view: view,
          printServiceUrl:
            "https://utility.arcgisonline.com/arcgis/rest/services/Utilities/PrintingTools/GPServer/Export%20Web%20Map%20Task",
          allowedFormats: ["jpg", "pdf"]
        });

        view.ui.add(printing, "bottom-right");
        // Adds a print screen option to the bottom-right of the Mapview, saving in JPG or PDF format

      });
    </script>
  </head>
  <body style="background-color:cornflowerblue">
    <br>
    <h1 style="color: ghostwhite; text-align: center">Pathfinder: Find Your Way</h1>
    <p style="color:ghostwhite; text-align: center"><em>Click the location and/or fullcreen toggles on the left side to get started, then select 'New Measurement'. 
      Double-right-click on your final point to finish your route.</em></p>
    <div id="viewDiv"></div>
    <!-- Background set to cornflower blue, white text is centered, map viewing pane marked as a separate section -->
  </body>

</html>


